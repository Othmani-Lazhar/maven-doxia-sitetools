<?xml version="1.0"?>

<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<model xmlns="http://modello.codehaus.org/MODELLO/1.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://modello.codehaus.org/MODELLO/1.0.0 http://modello.codehaus.org/xsd/modello-1.0.0.xsd"
  xsd.namespace="http://maven.apache.org/DECORATION/1.0.0" xsd.target-namespace="http://maven.apache.org/DECORATION/1.0.0">
  <id>decoration</id>
  <name>Decoration</name>
  <description><![CDATA[
    <p>This is a reference for the site decoration descriptor used in Doxia.</p>
    <p>An XSD is available at:</p>
    <ul>
      <li><a href="http://maven.apache.org/xsd/decoration-1.0.0.xsd">http://maven.apache.org/xsd/decoration-1.0.0.xsd</a> for Maven 2.0.</li>
    </ul>
  ]]></description>
  <defaults>
    <default>
      <key>package</key>
      <value>org.apache.maven.doxia.site.decoration</value>
    </default>
  </defaults>
  <classes>
    <class rootElement="true" xml.tagName="project">
      <name>DecorationModel</name>
      <description><![CDATA[
         The <code>&lt;project&gt;</code> element is the root of the site decoration descriptor.
         The following table lists all of the possible child elements.
      ]]></description>
      <version>1.0.0</version>
      <fields>
        <field xml.attribute="true">
          <name>name</name>
          <description><![CDATA[
            The full name of the project.
          ]]></description>
          <version>1.0.0</version>
          <type>String</type>
          <identifier>true</identifier>
        </field>
        <field>
          <name>bannerLeft</name>
          <description><![CDATA[
            Banner logo on the masthead of the site to the left.
          ]]></description>
          <version>1.0.0</version>
          <association>
            <type>Banner</type>
          </association>
          <identifier>true</identifier>
        </field>
        <field>
          <name>bannerRight</name>
          <description><![CDATA[
            Banner logo on the masthead of the site to the right.
          ]]></description>
          <version>1.0.0</version>
          <association>
            <type>Banner</type>
          </association>
          <identifier>true</identifier>
        </field>
        <field>
          <name>publishDate</name>
          <description><![CDATA[
            Modify the date published display properties.
          ]]></description>
          <version>1.0.0</version>
          <association>
            <type>PublishDate</type>
          </association>
          <identifier>true</identifier>
        </field>
        <field>
          <name>version</name>
          <description><![CDATA[
            Modify the version published display properties.
          ]]></description>
          <version>1.0.0</version>
          <association>
            <type>Version</type>
          </association>
          <identifier>true</identifier>
        </field>
        <field xml.associationTagName="logo">
          <name>poweredBy</name>
          <description><![CDATA[
            Powered by logos list.
          ]]></description>
          <version>1.0.0</version>
          <association>
            <type>Logo</type>
            <multiplicity>*</multiplicity>
          </association>
          <identifier>true</identifier>
        </field>
        <field>
          <name>skin</name>
          <description><![CDATA[
            The artifact containing the skin for the site.
          ]]></description>
          <version>1.0.0</version>
          <association>
            <type>Skin</type>
          </association>
          <identifier>true</identifier>
        </field>
        <field>
          <name>body</name>
          <description><![CDATA[
            The main site content decoration.
          ]]></description>
          <version>1.0.0</version>
          <association>
            <type>Body</type>
          </association>
          <identifier>true</identifier>
        </field>
        <field>
          <name>custom</name>
          <description><![CDATA[
            Custom configuration for use with customised Velocity templates.
          ]]></description>
          <version>1.0.0</version>
          <type>DOM</type>
          <identifier>true</identifier>
        </field>
      </fields>
      <codeSegments>
        <codeSegment>
          <version>1.0.0</version>
          <code>
            <![CDATA[
    private java.util.Map menusByRef;

    public Menu getMenuRef( String key )
    {
        if ( menusByRef == null )
        {
            menusByRef = new java.util.HashMap();

            if ( body != null )
            {
                for ( java.util.Iterator i = body.getMenus().iterator(); i.hasNext(); )
                {
                    Menu menu = (Menu) i.next();

                    if ( menu.getRef() != null )
                    {
                        menusByRef.put( menu.getRef(), menu );
                    }
                }
            }
        }
        return (Menu) menusByRef.get( key );
    }

    public void removeMenuRef( String key )
    {
        if ( body != null )
        {
            for ( java.util.Iterator i = body.getMenus().iterator(); i.hasNext(); )
            {
                Menu menu = (Menu) i.next();
                if ( key.equals( menu.getRef() ) )
                {
                    i.remove();
                }
            }
        }
    }

    public java.util.List getMenus()
    {
        java.util.List menus;
        if ( body != null && body.getMenus() != null )
        {
            menus = body.getMenus();
        }
        else
        {
            menus = java.util.Collections.EMPTY_LIST;
        }
        return menus;
    }
            ]]>
          </code>
        </codeSegment>
      </codeSegments>
    </class>
    <class>
      <name>Banner</name>
      <description><![CDATA[
        Banner logo on the masthead of the site.
      ]]></description>
      <version>1.0.0</version>
      <fields>
        <field>
          <name>name</name>
          <version>1.0.0</version>
          <description><![CDATA[
            The name of the banner.
          ]]></description>
          <type>String</type>
          <identifier>true</identifier>
        </field>
        <field>
          <name>src</name>
          <version>1.0.0</version>
          <description><![CDATA[
            The location of an image for the banner.
          ]]></description>
          <type>String</type>
          <identifier>true</identifier>
        </field>
        <field>
          <name>alt</name>
          <version>1.0.0</version>
          <description><![CDATA[
            The alt description for the banner image.
          ]]></description>
          <type>String</type>
          <identifier>true</identifier>
        </field>
        <field>
          <name>href</name>
          <version>1.0.0</version>
          <description><![CDATA[
            The href of a link to be used for the banner image.
          ]]></description>
          <type>String</type>
          <identifier>true</identifier>
        </field>
      </fields>
    </class>
    <class>
      <name>PublishDate</name>
      <description><![CDATA[
        Modify display properties for date published.
      ]]></description>
      <version>1.0.0</version>
      <fields>
        <field xml.attribute="true">
          <name>position</name>
          <description><![CDATA[
            Where to place the date published (left, right, navigation-top, navigation-bottom, bottom).
          ]]></description>
          <version>1.0.0</version>
          <type>String</type>
          <identifier>true</identifier>
        </field>
        <field xml.attribute="true">
          <name>format</name>
          <description><![CDATA[
            Date format to use. The default is MM/dd/yyyy.
          ]]></description>
          <version>1.0.0</version>
          <type>String</type>
          <identifier>true</identifier>
        </field>
      </fields>
    </class>
    <class>
      <name>Version</name>
      <description><![CDATA[
        Modify display properties for version published.
      ]]></description>
      <version>1.0.0</version>
      <fields>
        <field xml.attribute="true">
          <name>position</name>
          <description><![CDATA[
            Where to place the version published (left, right, navigation-top, navigation-bottom, bottom).
          ]]></description>
          <version>1.0.0</version>
          <type>String</type>
          <identifier>true</identifier>
        </field>
      </fields>
    </class>
    <class>
      <name>Logo</name>
      <description><![CDATA[
        Power by logo on the navigation.
      ]]></description>
      <version>1.0.0</version>
      <superClass>LinkItem</superClass>
      <fields>
        <field xml.attribute="true">
          <name>img</name>
          <description><![CDATA[
            The href of a link to be used for the power by image.
          ]]></description>
          <version>1.0.0</version>
          <type>String</type>
          <identifier>true</identifier>
        </field>
      </fields>
    </class>
    <class xsd.compositor="sequence">
      <name>Body</name>
      <description><![CDATA[
        The main content decoration.
      ]]></description>
      <version>1.0.0</version>
      <fields>
        <field>
          <name>head</name>
          <description><![CDATA[
            Additional content (like Javascript) to include in the HEAD block of the generated pages.
          ]]></description>
          <version>1.0.0</version>
          <type>DOM</type>
          <identifier>true</identifier>
        </field>
        <field xml.associationTagName="item">
          <name>links</name>
          <description><![CDATA[
            A list of links to display in the navigation.
          ]]></description>
          <version>1.0.0</version>
          <association>
            <type>LinkItem</type>
            <multiplicity>*</multiplicity>
          </association>
          <identifier>true</identifier>
        </field>
        <field xml.associationTagName="item">
          <name>breadcrumbs</name>
          <description><![CDATA[
            A list of breadcrumbs to display in the navigation.
          ]]></description>
          <version>1.0.0</version>
          <association>
            <type>LinkItem</type>
            <multiplicity>*</multiplicity>
          </association>
          <identifier>true</identifier>
        </field>
        <field xml.listStyle="flat">
          <name>menus</name>
          <description><![CDATA[
            A list of menus to include in the navigation.
          ]]></description>
          <version>1.0.0</version>
          <association>
            <type>Menu</type>
            <multiplicity>*</multiplicity>
          </association>
          <identifier>true</identifier>
        </field>
      </fields>
    </class>
    <class>
      <name>LinkItem</name>
      <description><![CDATA[
        A link in the navigation.
      ]]></description>
      <version>1.0.0</version>
      <fields>
        <field xml.attribute="true">
          <name>name</name>
          <description><![CDATA[
            The name to display for the link.
          ]]></description>
          <version>1.0.0</version>
          <type>String</type>
          <identifier>true</identifier>
        </field>
        <field xml.attribute="true">
          <name>href</name>
          <description><![CDATA[
            The href to use for the link.
          ]]></description>
          <version>1.0.0</version>
          <type>String</type>
          <identifier>true</identifier>
        </field>
      </fields>
    </class>
    <class xsd.compositor="sequence">
      <name>Menu</name>
      <description><![CDATA[
        A menu in the navigation.
      ]]></description>
      <version>1.0.0</version>
      <fields>
        <field xml.attribute="true">
          <name>name</name>
          <description><![CDATA[
            The name to display for the menu.
          ]]></description>
          <version>1.0.0</version>
          <type>String</type>
          <identifier>true</identifier>
        </field>
        <field xml.attribute="true">
          <name>inherit</name>
          <description><![CDATA[
            The way in which the menu is inherited. Can be one of : <code>top</code>, <code>bottom</code>.
          ]]></description>
          <version>1.0.0</version>
          <type>String</type>
          <identifier>true</identifier>
        </field>
        <field xml.attribute="true">
          <name>inheritAsRef</name>
          <description><![CDATA[
            If this is a reference, setting <inheritAsRef>true</inheritAsRef> means that it will be populated
            in the project, whereas if it is false, it is populated in the parent and then inherited.
          ]]></description>
          <version>1.0.0</version>
          <type>boolean</type>
        </field>
        <field xml.attribute="true">
          <name>ref</name>
          <description><![CDATA[
            A reference to a pre-defined menu, such as a <code>reports</code>, <code>modules</code>
            or <code>parentProject</code>.
          ]]></description>
          <version>1.0.0</version>
          <type>String</type>
          <identifier>true</identifier>
        </field>
        <field xml.attribute="true">
          <name>img</name>
          <description><![CDATA[
            The location of an image.
          ]]></description>
          <version>1.0.0</version>
          <type>String</type>
          <identifier>true</identifier>
        </field>
        <field xml.listStyle="flat">
          <name>items</name>
          <description><![CDATA[
            A list of menu item.
          ]]></description>
          <version>1.0.0</version>
          <association>
            <type>MenuItem</type>
            <multiplicity>*</multiplicity>
          </association>
          <identifier>true</identifier>
        </field>
      </fields>
    </class>
    <class xsd.compositor="sequence">
      <name>MenuItem</name>
      <description><![CDATA[
        A menu item.
      ]]></description>
      <version>1.0.0</version>
      <superClass>LinkItem</superClass>
      <fields>
        <field>
          <name>description</name>
          <description><![CDATA[
           A description of the menu item. This is used on any summary pages for a menu.
          ]]></description>
          <version>1.0.0</version>
          <type>String</type>
          <identifier>true</identifier>
        </field>
        <field xml.attribute="true">
          <name>collapse</name>
          <description><![CDATA[
           Whether to collapse children elements of an item menu (by default).
          ]]></description>
          <version>1.0.0</version>
          <type>boolean</type>
          <identifier>true</identifier>
        </field>
        <field xml.attribute="true">
          <name>ref</name>
          <description><![CDATA[
            A reference to a pre-defined menu item, such as a report (specified by the report goal
            name). Any elements explicitly given override those from the pre-defined reference.
          ]]></description>
          <version>1.0.0</version>
          <type>String</type>
          <identifier>true</identifier>
        </field>
        <field xml.listStyle="flat">
          <name>items</name>
          <description>Menu item.</description>
          <version>1.0.0</version>
          <association>
            <type>MenuItem</type>
            <multiplicity>*</multiplicity>
          </association>
          <identifier>true</identifier>
        </field>
      </fields>
    </class>
    <class>
      <name>Skin</name>
      <description><![CDATA[
        An skin artifact declaration.
      ]]></description>
      <version>1.0.0</version>
      <fields>
        <field>
          <name>groupId</name>
          <description><![CDATA[
            The skin group ID.
          ]]></description>
          <version>1.0.0</version>
          <type>String</type>
          <required>true</required>
          <identifier>true</identifier>
        </field>
        <field>
          <name>artifactId</name>
          <description><![CDATA[
            The skin artifact ID.
          ]]></description>
          <version>1.0.0</version>
          <type>String</type>
          <required>true</required>
          <identifier>true</identifier>
        </field>
        <field>
          <name>version</name>
          <description><![CDATA[
            The skin version.
          ]]></description>
          <version>1.0.0</version>
          <type>String</type>
          <identifier>true</identifier>
        </field>
      </fields>
      <codeSegments>
        <codeSegment>
          <version>1.0.0</version>
          <code>
            <![CDATA[
    public static Skin getDefaultSkin()
    {
        Skin skin = new Skin();
        skin.setGroupId( "org.apache.maven.skins" );
        skin.setArtifactId( "maven-default-skin" );
        return skin;
    }
            ]]>
          </code>
        </codeSegment>
      </codeSegments>
    </class>
  </classes>
</model>
